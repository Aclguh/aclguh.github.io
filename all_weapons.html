<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»ˆæœ«åœ°æ­¦å™¨åº“ - æ™ºèƒ½ç­›é€‰ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            min-height: 100vh;
            color: #e2e8f0;
            padding-bottom: 50px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border-bottom: 2px solid rgba(56, 189, 248, 0.3);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 1;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        /* æ¨¡å¼åˆ‡æ¢æ ‡ç­¾ */
        .mode-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            background: rgba(30, 41, 59, 0.8);
            padding: 10px;
            border-radius: 12px;
            border: 1px solid rgba(148, 163, 184, 0.1);
        }

        .mode-tab {
            flex: 1;
            padding: 12px 24px;
            background: transparent;
            border: 2px solid transparent;
            color: #64748b;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .mode-tab:hover {
            color: #94a3b8;
            background: rgba(56, 189, 248, 0.05);
        }

        .mode-tab.active {
            background: linear-gradient(135deg, rgba(56, 189, 248, 0.2) 0%, rgba(139, 92, 246, 0.2) 100%);
            color: #38bdf8;
            border-color: rgba(56, 189, 248, 0.5);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.2);
        }

        .mode-tab .badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            background: rgba(56, 189, 248, 0.2);
            border-radius: 12px;
            font-size: 0.75rem;
            color: #38bdf8;
        }

        .filter-section {
            background: rgba(30, 41, 59, 0.8);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(148, 163, 184, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .filter-group {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.1);
        }

        .filter-group:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .filter-label {
            font-size: 1.1rem;
            color: #38bdf8;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-label::before {
            content: 'â—†';
            color: #818cf8;
            font-size: 0.8rem;
        }

        .filter-count {
            font-size: 0.85rem;
            color: #64748b;
            background: rgba(15, 23, 42, 0.6);
            padding: 4px 12px;
            border-radius: 12px;
            border: 1px solid rgba(148, 163, 184, 0.2);
        }

        .filter-count.warning {
            color: #fbbf24;
            border-color: rgba(251, 191, 36, 0.3);
            background: rgba(251, 191, 36, 0.1);
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 1px solid rgba(148, 163, 184, 0.3);
            background: rgba(15, 23, 42, 0.6);
            color: #cbd5e1;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
            position: relative;
            overflow: hidden;
            user-select: none;
        }

        .filter-btn:hover {
            border-color: #38bdf8;
            color: #38bdf8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(56, 189, 248, 0.2);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #38bdf8 0%, #818cf8 100%);
            color: #0f172a;
            border-color: transparent;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(56, 189, 248, 0.4);
        }

        /* å¤šé€‰æ¨¡å¼æ ·å¼ */
        .filter-btn.multi {
            border-radius: 8px;
            padding-left: 36px;
            position: relative;
        }

        .filter-btn.multi::before {
            content: 'â˜';
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
            color: #64748b;
            transition: all 0.3s;
        }

        .filter-btn.multi.active {
            background: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%);
            color: white;
        }

        .filter-btn.multi.active::before {
            content: 'â˜‘';
            color: white;
        }

        .filter-btn.multi.disabled {
            opacity: 0.4;
            cursor: not-allowed;
            pointer-events: none;
        }

        .stats-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 15px 20px;
            background: rgba(56, 189, 248, 0.05);
            border-radius: 8px;
            border-left: 4px solid #38bdf8;
            flex-wrap: wrap;
            gap: 10px;
        }

        .stats-text {
            color: #94a3b8;
            font-size: 0.95rem;
        }

        .stats-number {
            color: #38bdf8;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .clear-btn {
            padding: 6px 16px;
            background: transparent;
            border: 1px solid #64748b;
            color: #64748b;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .clear-btn:hover {
            border-color: #ef4444;
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .weapons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .weapon-card {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(148, 163, 184, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .weapon-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #38bdf8, #818cf8);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .weapon-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            border-color: rgba(56, 189, 248, 0.3);
        }

        .weapon-card:hover::before {
            transform: scaleX(1);
        }

        .weapon-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .weapon-name {
            font-size: 1.3rem;
            font-weight: 700;
            color: #f1f5f9;
            margin-bottom: 5px;
        }

        .weapon-type {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(56, 189, 248, 0.15);
            color: #38bdf8;
            border-radius: 4px;
            font-size: 0.85rem;
            border: 1px solid rgba(56, 189, 248, 0.3);
        }

        .star-rating {
            display: flex;
            gap: 2px;
        }

        .star {
            color: #fbbf24;
            font-size: 1.1rem;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        .star.empty {
            color: #475569;
        }

        .weapon-attrs {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .attr-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 12px;
            background: rgba(15, 23, 42, 0.4);
            border-radius: 6px;
            border-left: 3px solid;
        }

        .attr-label {
            font-size: 0.85rem;
            color: #94a3b8;
            font-weight: 500;
        }

        .attr-value {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .attr-basic { border-left-color: #38bdf8; }
        .attr-basic .attr-value { color: #38bdf8; }

        .attr-additional { border-left-color: #a78bfa; }
        .attr-additional .attr-value { color: #a78bfa; }

        .attr-skill { border-left-color: #f472b6; }
        .attr-skill .attr-value { color: #f472b6; }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #64748b;
            grid-column: 1 / -1;
        }

        .no-results-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* æç¤ºä¿¡æ¯ */
        .mode-hint {
            background: rgba(56, 189, 248, 0.1);
            border-left: 4px solid #38bdf8;
            padding: 12px 16px;
            margin-bottom: 20px;
            border-radius: 4px;
            color: #94a3b8;
            font-size: 0.95rem;
        }

        .mode-hint strong {
            color: #38bdf8;
        }

        @media (max-width: 768px) {
            .weapons-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .mode-tabs {
                flex-direction: column;
            }
            
            .filter-options {
                gap: 8px;
            }
            
            .filter-btn {
                padding: 6px 12px;
                font-size: 0.85rem;
            }
            
            .stats-bar {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>ç»ˆæœ«åœ°æ­¦å™¨åº“</h1>
        <p class="subtitle">æ™ºèƒ½ç­›é€‰ç³»ç»Ÿ | æ”¯æŒå•é€‰/å¤šç»´å¤åˆç­›é€‰</p>
    </header>

    <div class="container">
        <!-- æ¨¡å¼åˆ‡æ¢ -->
        <div class="mode-tabs">
            <button class="mode-tab active" onclick="switchMode('standard')">
                æ ‡å‡†æ¨¡å¼
                <span class="badge">å•é€‰</span>
            </button>
            <button class="mode-tab" onclick="switchMode('advanced')">
                é«˜çº§æ¨¡å¼
                <span class="badge">å¤šåŸºç¡€å±æ€§</span>
            </button>
        </div>

        <!-- æ ‡å‡†æ¨¡å¼ -->
        <div id="standardMode" class="filter-section">
            <div class="mode-hint">
                <strong>æ ‡å‡†æ¨¡å¼ï¼š</strong>ç‚¹å‡»å±æ€§ç­›é€‰ï¼Œå†æ¬¡ç‚¹å‡»å·²é€‰å±æ€§å¯å–æ¶ˆé€‰æ‹©ï¼ˆå›åˆ°å…¨éƒ¨ï¼‰
            </div>
            
            <div class="filter-group">
                <div class="filter-label">åŸºç¡€å±æ€§</div>
                <div class="filter-options" id="basicFilterStandard"></div>
            </div>
            
            <div class="filter-group">
                <div class="filter-label">é™„åŠ å±æ€§</div>
                <div class="filter-options" id="additionalFilterStandard"></div>
            </div>
            
            <div class="filter-group">
                <div class="filter-label">æŠ€èƒ½å±æ€§</div>
                <div class="filter-options" id="skillFilterStandard"></div>
            </div>
        </div>

        <!-- é«˜çº§æ¨¡å¼ -->
        <div id="advancedMode" class="filter-section hidden">
            <div class="mode-hint">
                <strong>é«˜çº§æ¨¡å¼ï¼š</strong>å¯åŒæ—¶é€‰æ‹©<b>æœ€å¤š3ä¸ªåŸºç¡€å±æ€§</b>ï¼ˆå¤šé€‰ï¼‰ï¼Œé…åˆé™„åŠ å±æ€§å’ŒæŠ€èƒ½å±æ€§è¿›è¡Œç²¾å‡†ç­›é€‰
            </div>
            
            <div class="filter-group">
                <div class="filter-header">
                    <div class="filter-label">åŸºç¡€å±æ€§ï¼ˆå¤šé€‰ï¼‰</div>
                    <div class="filter-count" id="basicCount">å·²é€‰: 0/3</div>
                </div>
                <div class="filter-options" id="basicFilterAdvanced"></div>
            </div>
            
            <div class="filter-group">
                <div class="filter-label">é™„åŠ å±æ€§</div>
                <div class="filter-options" id="additionalFilterAdvanced"></div>
            </div>
            
            <div class="filter-group">
                <div class="filter-label">æŠ€èƒ½å±æ€§</div>
                <div class="filter-options" id="skillFilterAdvanced"></div>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stats-text">æ‰¾åˆ°æ­¦å™¨: <span class="stats-number" id="weaponCount">0</span> ä»¶</div>
            <button class="clear-btn" onclick="clearCurrentMode()">æ¸…ç©ºå½“å‰ç­›é€‰</button>
        </div>

        <div class="weapons-grid" id="weaponsGrid"></div>
    </div>

    <script>
        // æ­¦å™¨æ•°æ®
        const weaponsData = [
            { name: "éª‘å£«ç²¾ç¥", basic: "æ„å¿—", additional: "ç”Ÿå‘½", skill: "åŒ»ç–—", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "é—å¿˜", basic: "æ™ºè¯†", additional: "æ³•æœ¯", skill: "å¤œå¹•", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "çˆ†ç ´å•å…ƒ", basic: "ä¸»èƒ½åŠ›", additional: "æºçŸ³æŠ€è‰º", skill: "è¿¸å‘", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "ä½œå“ï¼šèš€è¿¹", basic: "æ„å¿—", additional: "è‡ªç„¶", skill: "å‹åˆ¶", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "æ²§æºŸæ˜Ÿæ¢¦", basic: "æ™ºè¯†", additional: "æ²»ç–—", skill: "é™„æœ¯", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "ä½¿å‘½å¿…è¾¾", basic: "æ„å¿—", additional: "å……èƒ½", skill: "è¿½è¢­", type: "æ–½æœ¯å•å…ƒ", star: 6 },
            { name: "O.B.J.æœ¯è¯†", basic: "æ™ºè¯†", additional: "æºçŸ³æŠ€è‰º", skill: "è¿½è¢­", type: "æ–½æœ¯å•å…ƒ", star: 5 },
            { name: "å¸ƒé“è‡ªç”±", basic: "æ„å¿—", additional: "æ²»ç–—", skill: "åŒ»ç–—", type: "æ–½æœ¯å•å…ƒ", star: 5 },
            { name: "è¿·å¤±è’é‡", basic: "æ™ºè¯†", additional: "ç”µç£", skill: "é™„æœ¯", type: "æ–½æœ¯å•å…ƒ", star: 5 },
            { name: "è«å¥ˆä½•", basic: "æ„å¿—", additional: "å……èƒ½", skill: "æ˜‚æ‰¬", type: "æ–½æœ¯å•å…ƒ", star: 5 },
            { name: "æ‚¼äº¡è¯—", basic: "æ™ºè¯†", additional: "æ”»å‡»", skill: "å¤œå¹•", type: "æ–½æœ¯å•å…ƒ", star: 5 },
            { name: "åŒç±»ç›¸é£Ÿ", basic: "ä¸»èƒ½åŠ›", additional: "æ³•æœ¯", skill: "é™„æœ¯", type: "æ‰‹é“³", star: 6 },
            { name: "æ¥”å­", basic: "ä¸»èƒ½åŠ›", additional: "æš´å‡»", skill: "é™„æœ¯", type: "æ‰‹é“³", star: 6 },
            { name: "é¢†èˆªè€…", basic: "ä¸»èƒ½åŠ›", additional: "å……èƒ½", skill: "é™„æœ¯", type: "æ‰‹é“³", star: 6 },
            { name: "è‰ºæœ¯æš´å›", basic: "æ™ºè¯†", additional: "æš´å‡»", skill: "åˆ‡éª¨", type: "æ‰‹é“³", star: 6 },
            { name: "ç†æ€§å‘Šåˆ«", basic: "åŠ›é‡", additional: "ç¼çƒ­", skill: "è¿½è¢­", type: "æ‰‹é“³", star: 5 },
            { name: "O.B.J.è¿…æ", basic: "æ•æ·", additional: "å……èƒ½", skill: "è¿¸å‘", type: "æ‰‹é“³", star: 5 },
            { name: "ä½œå“ï¼šä¼—ç”Ÿ", basic: "æ•æ·", additional: "æ³•æœ¯", skill: "é™„æœ¯", type: "æ‰‹é“³", star: 5 },
            { name: "J.E.T.", basic: "æ„å¿—", additional: "æ”»å‡»", skill: "å‹åˆ¶", type: "é•¿æŸ„æ­¦å™¨", star: 6 },
            { name: "éªå‹‡", basic: "æ•æ·", additional: "ç‰©ç†", skill: "å·§æŠ€", type: "é•¿æŸ„æ­¦å™¨", star: 6 },
            { name: "è´Ÿå±±", basic: "æ•æ·", additional: "ç‰©ç†", skill: "æ•ˆç›Š", type: "é•¿æŸ„æ­¦å™¨", star: 6 },
            { name: "å‘å¿ƒä¹‹å¼•", basic: "æ„å¿—", additional: "ç”µç£", skill: "å‹åˆ¶", type: "é•¿æŸ„æ­¦å™¨", star: 5 },
            { name: "O.B.J.å°–å³°", basic: "æ„å¿—", additional: "ç‰©ç†", skill: "é™„æœ¯", type: "é•¿æŸ„æ­¦å™¨", star: 5 },
            { name: "åµŒåˆæ­£ä¹‰", basic: "åŠ›é‡", additional: "å……èƒ½", skill: "æ®‹æš´", type: "é•¿æŸ„æ­¦å™¨", star: 5 },
            { name: "ç ´ç¢å›ç‹", basic: "åŠ›é‡", additional: "æš´å‡»", skill: "ç²‰ç¢", type: "åŒæ‰‹å‰‘", star: 6 },
            { name: "æ˜”æ—¥ç²¾å“", basic: "æ„å¿—", additional: "ç”Ÿå‘½", skill: "æ•ˆç›Š", type: "åŒæ‰‹å‰‘", star: 6 },
            { name: "å…¸èŒƒ", basic: "ä¸»èƒ½åŠ›", additional: "æ”»å‡»", skill: "å‹åˆ¶", type: "åŒæ‰‹å‰‘", star: 6 },
            { name: "èµ«æ‹‰èŠ¬æ ¼", basic: "åŠ›é‡", additional: "æ”»å‡»", skill: "è¿¸å‘", type: "åŒæ‰‹å‰‘", star: 6 },
            { name: "å¤§é›·æ–‘", basic: "åŠ›é‡", additional: "ç”Ÿå‘½", skill: "åŒ»ç–—", type: "åŒæ‰‹å‰‘", star: 6 },
            { name: "O.B.J.é‡è·", basic: "åŠ›é‡", additional: "ç”Ÿå‘½", skill: "æ•ˆç›Š", type: "åŒæ‰‹å‰‘", star: 5 },
            { name: "ç»ˆç‚¹ä¹‹å£°", basic: "åŠ›é‡", additional: "ç”Ÿå‘½", skill: "åŒ»ç–—", type: "åŒæ‰‹å‰‘", star: 5 },
            { name: "å¤æ¸ ", basic: "åŠ›é‡", additional: "æºçŸ³æŠ€è‰º", skill: "æ®‹æš´", type: "åŒæ‰‹å‰‘", star: 5 },
            { name: "æ¢éªŠ", basic: "åŠ›é‡", additional: "å……èƒ½", skill: "è¿¸å‘", type: "åŒæ‰‹å‰‘", star: 5 },
            { name: "ç™½å¤œæ–°æ˜Ÿ", basic: "ä¸»èƒ½åŠ›", additional: "æºçŸ³æŠ€è‰º", skill: "é™„æœ¯", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "æ˜¾èµ«å£°å", basic: "æ•æ·", additional: "ç‰©ç†", skill: "æ®‹æš´", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "çƒ­ç†”åˆ‡å‰²å™¨", basic: "æ„å¿—", additional: "æ”»å‡»", skill: "æµè½¬", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "æ‰¶æ‘‡", basic: "ä¸»èƒ½åŠ›", additional: "æš´å‡»", skill: "å¤œå¹•", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "é»¯è‰²ç«ç‚¬", basic: "æ™ºè¯†", additional: "ç¼çƒ­", skill: "é™„æœ¯", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "ç†”é“¸ç«ç„°", basic: "æ™ºè¯†", additional: "æ”»å‡»", skill: "å¤œå¹•", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "ä¸çŸ¥å½’", basic: "æ„å¿—", additional: "æ”»å‡»", skill: "æµè½¬", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "å®æ„¿", basic: "æ•æ·", additional: "æ”»å‡»", skill: "é™„æœ¯", type: "å•æ‰‹å‰‘", star: 6 },
            { name: "ä»°æ­¢", basic: "æ•æ·", additional: "ç‰©ç†", skill: "å¤œå¹•", type: "å•æ‰‹å‰‘", star: 5 },
            { name: "O.B.J.è½»èŠ’", basic: "æ•æ·", additional: "æ”»å‡»", skill: "æµè½¬", type: "å•æ‰‹å‰‘", star: 5 },
            { name: "åäºŒé—®", basic: "æ•æ·", additional: "æ”»å‡»", skill: "é™„æœ¯", type: "å•æ‰‹å‰‘", star: 5 },
            { name: "é€é³3.0", basic: "åŠ›é‡", additional: "å¯’å†·", skill: "å‹åˆ¶", type: "å•æ‰‹å‰‘", star: 5 },
            { name: "åšåŸé“¸é€ è€…", basic: "æ™ºè¯†", additional: "å……èƒ½", skill: "æ˜‚æ‰¬", type: "å•æ‰‹å‰‘", star: 5 },
            { name: "é’¢é“ä½™éŸ³", basic: "æ•æ·", additional: "ç‰©ç†", skill: "å·§æŠ€", type: "å•æ‰‹å‰‘", star: 5 }
        ];

        // å½“å‰æ¨¡å¼ï¼š'standard' æˆ– 'advanced'
        let currentMode = 'standard';
        
        // æ ‡å‡†æ¨¡å¼ç­›é€‰çŠ¶æ€ï¼ˆå•é€‰ï¼‰
        let standardFilters = {
            basic: '',
            additional: '',
            skill: ''
        };

        // é«˜çº§æ¨¡å¼ç­›é€‰çŠ¶æ€ï¼ˆåŸºç¡€å±æ€§å¤šé€‰ï¼Œå…¶ä»–å•é€‰ï¼‰
        let advancedFilters = {
            basic: [], // æ•°ç»„ï¼Œæœ€å¤š3ä¸ª
            additional: '',
            skill: ''
        };

        // æå–å”¯ä¸€å€¼
        const uniqueValues = {
            basic: [...new Set(weaponsData.map(w => w.basic))],
            additional: [...new Set(weaponsData.map(w => w.additional))],
            skill: [...new Set(weaponsData.map(w => w.skill))]
        };

        // åˆå§‹åŒ–
        window.onload = () => {
            initStandardFilters();
            initAdvancedFilters();
            applyFilters();
        };

        // åˆå§‹åŒ–æ ‡å‡†æ¨¡å¼ç­›é€‰å™¨ï¼ˆå•é€‰ï¼Œæ”¯æŒå–æ¶ˆï¼‰
        function initStandardFilters() {
            createSingleFilter('basicFilterStandard', uniqueValues.basic, 'basic', 'standard');
            createSingleFilter('additionalFilterStandard', uniqueValues.additional, 'additional', 'standard');
            createSingleFilter('skillFilterStandard', uniqueValues.skill, 'skill', 'standard');
        }

        // åˆ›å»ºå•é€‰ç­›é€‰å™¨ï¼ˆå¸¦å…¨éƒ¨æŒ‰é’®ï¼Œæ”¯æŒç‚¹å‡»å–æ¶ˆï¼‰
        function createSingleFilter(containerId, values, filterType, mode) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            // æ·»åŠ "å…¨éƒ¨"æŒ‰é’®
            const allBtn = document.createElement('button');
            allBtn.className = 'filter-btn active';
            allBtn.textContent = 'å…¨éƒ¨';
            allBtn.onclick = () => selectSingleFilter(mode, filterType, '', allBtn);
            container.appendChild(allBtn);
            
            // æ·»åŠ å±æ€§æŒ‰é’®
            values.forEach(value => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.textContent = value;
                btn.onclick = () => selectSingleFilter(mode, filterType, value, btn);
                container.appendChild(btn);
            });
        }

        // å•é€‰ç­›é€‰é€»è¾‘ï¼ˆç‚¹å‡»å·²é€‰å¯å–æ¶ˆï¼‰
        function selectSingleFilter(mode, type, value, btnElement) {
            const container = btnElement.parentElement;
            const buttons = container.querySelectorAll('.filter-btn');
            const isAllBtn = btnElement.textContent === 'å…¨éƒ¨';
            
            // åˆ¤æ–­æ˜¯å¦ç‚¹å‡»çš„æ˜¯å·²é€‰ä¸­çš„æŒ‰é’®ï¼ˆä¸”ä¸æ˜¯"å…¨éƒ¨"æŒ‰é’®ï¼‰
            const isAlreadySelected = btnElement.classList.contains('active') && !isAllBtn;
            
            if (isAlreadySelected) {
                // å–æ¶ˆé€‰æ‹©ï¼Œå›åˆ°å…¨éƒ¨
                buttons.forEach(b => b.classList.remove('active'));
                buttons[0].classList.add('active'); // ç¬¬ä¸€ä¸ªæŒ‰é’®æ˜¯"å…¨éƒ¨"
                
                if (mode === 'standard') {
                    standardFilters[type] = '';
                }
            } else {
                // é€‰æ‹©æ–°çš„ï¼ˆåˆ‡æ¢åˆ°æ–°æŒ‰é’®ï¼‰
                buttons.forEach(b => b.classList.remove('active'));
                btnElement.classList.add('active');
                
                if (mode === 'standard') {
                    standardFilters[type] = value;
                }
            }
            
            applyFilters();
        }

        // åˆå§‹åŒ–é«˜çº§æ¨¡å¼ç­›é€‰å™¨ï¼ˆåŸºç¡€å±æ€§å¤šé€‰ï¼Œå…¶ä»–å•é€‰ï¼‰
        function initAdvancedFilters() {
            // åŸºç¡€å±æ€§ - å¤šé€‰ï¼ˆæ— "å…¨éƒ¨"æŒ‰é’®ï¼‰
            const basicContainer = document.getElementById('basicFilterAdvanced');
            basicContainer.innerHTML = '';
            uniqueValues.basic.forEach(value => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn multi';
                btn.textContent = value;
                btn.onclick = () => toggleBasicMulti(value, btn);
                basicContainer.appendChild(btn);
            });

            // é™„åŠ å±æ€§ - å•é€‰ï¼ˆæœ‰å…¨éƒ¨ï¼‰
            createSingleFilterAdvanced('additionalFilterAdvanced', uniqueValues.additional, 'additional');
            
            // æŠ€èƒ½å±æ€§ - å•é€‰ï¼ˆæœ‰å…¨éƒ¨ï¼‰
            createSingleFilterAdvanced('skillFilterAdvanced', uniqueValues.skill, 'skill');
        }

        // åˆ›å»ºé«˜çº§æ¨¡å¼çš„å•é€‰ç­›é€‰å™¨ï¼ˆé™„åŠ å’ŒæŠ€èƒ½å±æ€§ï¼‰
        function createSingleFilterAdvanced(containerId, values, filterType) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            const allBtn = document.createElement('button');
            allBtn.className = 'filter-btn active';
            allBtn.textContent = 'å…¨éƒ¨ï¼ˆä¸é™ï¼‰';
            allBtn.onclick = () => selectAdvancedSingle(filterType, '', allBtn);
            container.appendChild(allBtn);
            
            values.forEach(value => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.textContent = value;
                btn.onclick = () => selectAdvancedSingle(filterType, value, btn);
                container.appendChild(btn);
            });
        }

        // åŸºç¡€å±æ€§å¤šé€‰åˆ‡æ¢
        function toggleBasicMulti(value, btnElement) {
            const index = advancedFilters.basic.indexOf(value);
            
            if (index > -1) {
                // å·²é€‰ä¸­ï¼Œå–æ¶ˆé€‰æ‹©
                advancedFilters.basic.splice(index, 1);
                btnElement.classList.remove('active');
            } else {
                // æœªé€‰ä¸­ï¼Œæ£€æŸ¥æ˜¯å¦å·²è¾¾ä¸Šé™
                if (advancedFilters.basic.length >= 3) {
                    // è¾¾åˆ°ä¸Šé™ï¼Œæç¤ºæˆ–è‡ªåŠ¨ç§»é™¤æœ€æ—©é€‰æ‹©çš„ï¼ˆè¿™é‡Œé€‰æ‹©ä¸æ“ä½œï¼Œæˆ–å¯ä»¥æç¤ºï¼‰
                    alert('æœ€å¤šåªèƒ½é€‰æ‹©3ä¸ªåŸºç¡€å±æ€§ï¼è¯·å…ˆå–æ¶ˆå·²é€‰çš„æŸä¸ªå±æ€§ã€‚');
                    return;
                }
                advancedFilters.basic.push(value);
                btnElement.classList.add('active');
            }
            
            updateBasicCount();
            applyFilters();
        }

        // æ›´æ–°åŸºç¡€å±æ€§è®¡æ•°æ˜¾ç¤º
        function updateBasicCount() {
            const countEl = document.getElementById('basicCount');
            const count = advancedFilters.basic.length;
            countEl.textContent = `å·²é€‰: ${count}/3`;
            
            if (count >= 3) {
                countEl.classList.add('warning');
                // ç¦ç”¨æœªé€‰ä¸­çš„æŒ‰é’®
                document.querySelectorAll('#basicFilterAdvanced .filter-btn').forEach(btn => {
                    if (!btn.classList.contains('active')) {
                        btn.classList.add('disabled');
                    }
                });
            } else {
                countEl.classList.remove('warning');
                // è§£é™¤ç¦ç”¨
                document.querySelectorAll('#basicFilterAdvanced .filter-btn').forEach(btn => {
                    btn.classList.remove('disabled');
                });
            }
        }

        // é«˜çº§æ¨¡å¼å•é€‰ï¼ˆé™„åŠ /æŠ€èƒ½å±æ€§ï¼‰
        function selectAdvancedSingle(type, value, btnElement) {
            const container = btnElement.parentElement;
            const buttons = container.querySelectorAll('.filter-btn');
            const isAllBtn = btnElement.textContent.includes('å…¨éƒ¨');
            const isAlreadySelected = btnElement.classList.contains('active') && !isAllBtn;
            
            if (isAlreadySelected) {
                // å–æ¶ˆé€‰æ‹©ï¼Œå›åˆ°å…¨éƒ¨
                buttons.forEach(b => b.classList.remove('active'));
                buttons[0].classList.add('active');
                advancedFilters[type] = '';
            } else {
                buttons.forEach(b => b.classList.remove('active'));
                btnElement.classList.add('active');
                advancedFilters[type] = value;
            }
            
            applyFilters();
        }

        // æ¨¡å¼åˆ‡æ¢
        function switchMode(mode) {
            currentMode = mode;
            
            // æ›´æ–°æ ‡ç­¾æ ·å¼
            document.querySelectorAll('.mode-tab').forEach((tab, index) => {
                if ((mode === 'standard' && index === 0) || (mode === 'advanced' && index === 1)) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            // æ˜¾ç¤º/éšè—å¯¹åº”é¢æ¿
            if (mode === 'standard') {
                document.getElementById('standardMode').classList.remove('hidden');
                document.getElementById('advancedMode').classList.add('hidden');
            } else {
                document.getElementById('standardMode').classList.add('hidden');
                document.getElementById('advancedMode').classList.remove('hidden');
            }
            
            applyFilters();
        }

        // åº”ç”¨ç­›é€‰
        function applyFilters() {
            let filtered;
            
            if (currentMode === 'standard') {
                // æ ‡å‡†æ¨¡å¼ï¼šæ‰€æœ‰æ¡ä»¶éƒ½æ˜¯å•é€‰ï¼Œä¸”æ¡ä»¶ä¹‹é—´æ˜¯"ä¸"å…³ç³»
                filtered = weaponsData.filter(weapon => {
                    const matchBasic = !standardFilters.basic || weapon.basic === standardFilters.basic;
                    const matchAdditional = !standardFilters.additional || weapon.additional === standardFilters.additional;
                    const matchSkill = !standardFilters.skill || weapon.skill === standardFilters.skill;
                    return matchBasic && matchAdditional && matchSkill;
                });
            } else {
                // é«˜çº§æ¨¡å¼ï¼šåŸºç¡€å±æ€§å¤šé€‰ï¼ˆæˆ–å…³ç³»ï¼‰ï¼Œå…¶ä»–å•é€‰ï¼ˆä¸å…³ç³»ï¼‰
                filtered = weaponsData.filter(weapon => {
                    // åŸºç¡€å±æ€§ï¼šå¦‚æœé€‰äº†å¤šä¸ªï¼Œæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå³å¯ï¼ˆæˆ–å…³ç³»ï¼‰ï¼›å¦‚æœæ²¡é€‰ï¼ˆç©ºæ•°ç»„ï¼‰ï¼Œè§†ä¸ºå…¨éƒ¨é€šè¿‡
                    const matchBasic = advancedFilters.basic.length === 0 || advancedFilters.basic.includes(weapon.basic);
                    const matchAdditional = !advancedFilters.additional || weapon.additional === advancedFilters.additional;
                    const matchSkill = !advancedFilters.skill || weapon.skill === advancedFilters.skill;
                    return matchBasic && matchAdditional && matchSkill;
                });
            }
            
            renderWeapons(filtered);
        }

        // æ¸²æŸ“æ­¦å™¨å¡ç‰‡
        function renderWeapons(weapons) {
            const grid = document.getElementById('weaponsGrid');
            const count = document.getElementById('weaponCount');
            
            count.textContent = weapons.length;
            grid.innerHTML = '';
            
            if (weapons.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <div class="no-results-icon">ğŸ”</div>
                        <h3>æœªæ‰¾åˆ°åŒ¹é…æ­¦å™¨</h3>
                        <p>è¯·å°è¯•è°ƒæ•´ç­›é€‰æ¡ä»¶</p>
                    </div>
                `;
                return;
            }
            
            weapons.forEach((weapon, index) => {
                const card = createWeaponCard(weapon);
                card.style.animationDelay = `${index * 0.05}s`;
                card.classList.add('fade-in');
                grid.appendChild(card);
            });
        }

        function createWeaponCard(weapon) {
            const card = document.createElement('div');
            card.className = 'weapon-card';
            
            const stars = 'â˜…'.repeat(weapon.star) + 'â˜†'.repeat(6 - weapon.star);
            const starHtml = stars.split('').map(s => 
                `<span class="star ${s === 'â˜†' ? 'empty' : ''}">${s}</span>`
            ).join('');
            
            card.innerHTML = `
                <div class="weapon-header">
                    <div>
                        <div class="weapon-name">${weapon.name}</div>
                        <span class="weapon-type">${weapon.type}</span>
                    </div>
                    <div class="star-rating">${starHtml}</div>
                </div>
                <div class="weapon-attrs">
                    <div class="attr-row attr-basic">
                        <span class="attr-label">åŸºç¡€å±æ€§</span>
                        <span class="attr-value">${weapon.basic}</span>
                    </div>
                    <div class="attr-row attr-additional">
                        <span class="attr-label">é™„åŠ å±æ€§</span>
                        <span class="attr-value">${weapon.additional}</span>
                    </div>
                    <div class="attr-row attr-skill">
                        <span class="attr-label">æŠ€èƒ½å±æ€§</span>
                        <span class="attr-value">${weapon.skill}</span>
                    </div>
                </div>
            `;
            
            return card;
        }

        // æ¸…ç©ºå½“å‰æ¨¡å¼çš„ç­›é€‰
        function clearCurrentMode() {
            if (currentMode === 'standard') {
                standardFilters = { basic: '', additional: '', skill: '' };
                // é‡ç½®UI
                document.querySelectorAll('#standardMode .filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent === 'å…¨éƒ¨') btn.classList.add('active');
                });
            } else {
                advancedFilters = { basic: [], additional: '', skill: '' };
                // é‡ç½®UI
                document.querySelectorAll('#advancedMode .filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.textContent === 'å…¨éƒ¨' || btn.textContent.includes('å…¨éƒ¨ï¼ˆä¸é™ï¼‰')) {
                        btn.classList.add('active');
                    }
                });
                updateBasicCount();
            }
            applyFilters();
        }
    </script>
</body>
</html>

